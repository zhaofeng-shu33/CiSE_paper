\documentclass{IEEEcsmag}

\usepackage[colorlinks,urlcolor=blue,linkcolor=blue,citecolor=blue]{hyperref}

\usepackage{upmath}
\usepackage{color}
\usepackage{listings}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\lstset{
numbers=left,
numbersep=5pt,
numberstyle=\tiny\color{mygray}
}
\jvol{XX}
\jnum{XX}
\paper{8}
\jmonth{May/June}
\jname{IT Professional}
\pubyear{2019}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}

\setcounter{secnumdepth}{0}

\begin{document}

\sptitle{Department: Electronic Engineering}
\editor{Editor: Name, xxxx@email}

\title{Reproducing Scientific Experiment with Cloud DevOps}

\author{Feng Zhao}
\affil{PhD student of Tsinghua University}

\author{S. B. Author, Jr.}
\affil{Second Affiliation}

\author{T. C. Author, III}
\affil{Third Affiliation}

\markboth{Department Head}{Paper title}

\begin{abstract}
Scientific Experiment Reproducibility is vital for the advancement of disciplines based on previous work. Many researchers focus on complex methodology and self-invented tools which have difficulty in practical usage. In this article, we borrow the DevOps infrastructure from software engineering community and shows how DevOps can be used effectively in reproducible experiments for computer science related disciplines. DevOps can be enabled using freely accessible computing machines for medium sized experiment and lab HPC environment for large scale computing, thus powering researchers to share their experiment with others in a more reliable way.
\end{abstract}

\maketitle

\chapterinitial{The introduction} As the development of Big Data and Artificial Intelligence, computational scientific experiments encompass more disciplines but are much more complex than before. Training a useful AI model not only takes a long time but consumes huge memory and requires advanced computational device like GPU. Also, traditional simulation experiment like finite element analysis can be done on HPC cluster using more advanced parallel algorithms. There are also other emerging domains which are related to computational scientific experiment. These experiments require more dedicated toolchain, specific workflow, expensive and compututational resources which put new challenge on experiment reproducibility.

To solve these issue, there are three kind of approaches: Tools, Platform and Methodology. Many tools \cite{greff2017sacred} are provided, which can capture the running environment information or storing the experiment result. These tools are valuable but may suffer from bad-maintainability and difficult configuration. Bad-maintainability originates from domain specific scientific software since their developers are not full-time software engineers. Experiment result storage requires the research to configure the database backend and the visualization needs some web technology. Also, most of these tools are not programming language neutral, which means researchers cannot use them in other programming languages. Still, the gain is more than the effort if more researchers use these tools to manage their experiment.

For platform solution, traditionally containerization is used. In recent years, it has been shown that cloud computing is suitable to be used for sceintific research purpose \cite{Howe12}. However, configuration on cloud environment from scratch is difficult for unexperienced researches and it is better to use specific cloud service for research purpose. For example, we have Code Ocean or other commercial cloud systems \cite{perkel2018data}, which can tackle the reproducibility problem. The problem with such platform is that the free tier is mean and researchers probabilily are not willing to pay for much computational resource. Still, researchers can download the contents and run the replication locally and it is better than no code and no dataset are provided.

Methodology, or best practice in reproducibility usually discuss the general principals \cite{stodden2014best} or combines tools and platforms to explore the best practice \cite{QashaCW16}. Generally speaking, methodology is hard to follow as they tend to be ideal and the researchers may not be familiar with or have the ability to setup the toolchain used.  

Both the above three aspects have pros and cons for experiment reproducibility. Some researches seek more elegant solutions from software engineering community and give a try using Docker container for experiment reproducibility \cite{Boettiger15}.
Boettiger also mensioned the DevOps philosophy and acknowledged its limitations.
There are some ongoing research which also borrows the ideas of DevOps to develop domain specific infrastructure \cite{philips2019devops} or conduct sophisticated experiments \cite{chwalisz2019walker}. These previous research are valuable but they are limited to specific domain or tools and do not solve some critical problems:
\begin{enumerate}
\item The time, efforts and money researchers need to pay for such approach
\item High availability of the service used
\end{enumerate}

To be more specific, scientific researchers are not software engineering and many of them are not familiar with containerization techonology. Either they have to spend much time and efforts to learn or pay money to use some user friendly 
cloud service (e.g. Code Ocean). Both are not satisfied for individual researchers. Also, newly developed platform such \texttt{Devops@mech} \cite{philips2019devops} or old services like Everest \cite{VOLKOV2017112} or VCR \cite{GavishD12} are hard to maintain since these services are provided by some laboratory and their users are very limited.

In this article, we will explore the solution from platform point of view. Our approach is not limitted to a specific DevOps cloud service provider. Instead, we focus on the methodology and how to incorporate different tools within the model of DevOps for better experiment reproducibility. 
Also we will use concrete examples from domain of graph computing, machine learning  and deep learning to illustrate how to use DevOps to help researchers be more productive and help others easier to follow their research. All too often, helping others actually helps yourself.

\section{Infrastructure}
Originally, DevOps refers to the software engineering approach to automate the process of building and deploying software product, which is summarized by its another name ``Continuous Integration and Deployment (CICD)'' \cite{bass2015devops}. 
DevOps service (server) can be self-hosted or centrally hosted. DevOps server is quite complex and self-hosted solution is not suitable for sharing results with others. Besides, self-hosted computing agent (client) can be used if public provided agent is not suitable to reproduce the experiment. In this article, we only consider cloud hosted DevOps solution for experiment reproducibility.

There are some similarities between cloud DevOps and Everest infrastructure \cite{GavishD12}. Both allows dynamic provision of computing resources from public cloud service provider and support computing resources attached by users. The computation can be trigger by user click the button via web interface. But DevOps cloud service is superior than Everest not only because more flexible configuration and high availability but also because the former is easier to use. DevOps cloud service has complete documentation, FAQ, community support and most importantly developer first philosophy while self-made platform lacks.

There are many free DevOps service for open source project which greatly powers individual developers and open source community. 
DevOps or its equivalent term CICD consists of two parts: environment configuration and pipeline description.
For the environment configuration part, users just need to select from predefined combination of the following items:
\begin{enumerate}
\item normal operating system or virtualized image
\item single OS or cross-platform
\item splitting different phases or put everything in one place
\item build artifact or have deployment stage
\item public cloud service or local runner
\end{enumerate}

It should be noticed that not all DevOps infrastructure supports every combination of the above. For example, many platforms do not support connecting the local runner to the cloud or only support certain environment combination. Below is the table to compare DevOps providers which researchers can use freely to a certain extent.

\begin{table}
\caption{Comparison of Cloud DevOps provider (until 2019)}
\label{table}
\small
\begin{tabular*}{17.5pc}{@{}|p{39pt}|p{73pt}<{\raggedright}|p{60pt}<{\raggedright}|@{}}
\hline
Name& 
Features& 
Open Source Project Privilege\\
\hline
AppVeyor& Windows \& Linux support & unlimited public projects; 1 concurrent job with unlimitted time; 5 self-hosted jobs
 \\
 \hline
 Azure pipelines & cross-platform, Windows \& Linux docker support, predefined task & 10 hosted job with unlimited time; unlimited self-hosted CICD
 \\
 \hline
  Bitbucket& & 
 \\
 \hline
   CircleCI& & 
 \\
 \hline
GitLab CICD& 
& 
\\
\hline
GitHub Actions& 
& 
\\
\hline
Semaphore &
&
\\
\hline
Travis& 
cross-platform; multiple programming language support; various deployment choice
& 2 concurrent jobs; unlimitted minutes
\\
\hline
\end{tabular*}
\label{tab1}
\end{table}

We call a DevOps infrastructure cross-platform if it supports Windows, MacOS and Linux (usually Ubuntu) Operating Systems. For useful open source project, it is important to be run on different platforms. However, most research experiments can only be reproduced on specific version of one Operating System. This is OK since researchers are not specialist on software engineering and have not machines of other Operating Systems or spare time to make their code run on different platforms. Nowadays, things are different. DevOps provides easy configuration for different environments and researchers are encouraged to test their code on them without learning too much new knowledge and spending too much time. We believe it is beneficial if newly developed algorithms and experiments can be run on more platforms. 

Besides normal operating system environment, many DevOps infrastructures support Docker containers or the researches can run their own containers (whether it is Docker based, Singularity based or other virtual machines) in their self-hosted agent. Virtualization is better than normal OS for experiment reproducibility but it is also more complex to configure. We do not elaborate such workflow but we encourage the researchers to have a try.

Another difference is that some DevOps platform provides some shortcut to configure the environment. For example, on Travis users can have Ubuntu 16.04 \texttt{Python 3.6} environment by simple requires it in the following way:
\begin{lstlisting}
os: linux
dist: xenial
language: python
python: 3.7
\end{lstlisting}
Under such environment, \texttt{python} command is actually 3.6 from the official release.
Such shortcut makes install dependency step much easier as we do not need to install the interpreter and configure the environment variable manually.





\begin{figure}
\centerline{\includegraphics[width=18.5pc]{workflow.pdf}}
\caption{CICD pipeline illustration. The steps within blue boxes are specific stages for scientific experiments. }
\end{figure}

Also, DevOps can be customized by self hosting the server in the laboratory or using local runner on workstation or HPC cluster.

\section{FIGURES AND TABLES}

\subsection{In-text callouts for figures and tables}

Figures and tables must be cited in the running text in consecutive order. At first mention, the citation should be boldface ({\bf Figure 1}); subsequent mentions should be Roman type (see Figure 1 and {\bf Table 1}). {\bf Figure 2} shows an example of a figure spanning across two columns.
 

Previously published figures or tables require permission to reprint. Please obtain permission. Then, add the following text to the figure/table caption: ``From [reference no.], with permission,'' or ``Adapted from [reference no.], with permission.'' {\it Carefully} explain each figure in the text. Each manuscript should be limited to four figures.\pagebreak

\section{END SECTIONS}

\subsection{Appendices}

If multiple appendices are required, they should labeled ``Appendix A,'' ``Appendix B,'' etc. They appear before the ``Acknowledgment'' or the ``References'' section.

\subsection{Acknowledgment}

The ``Acknowledgment'' (no's) section appears immediately after the conclusion. If applicable, this is where you indicate funding for the work. The preferred spelling of the word ``acknowledgment'' in American English is without an ``e'' after the ``g.'' Avoid expressions such as ``One of us (S.B.A.) would like to thank $\ldots$ .'' Instead, write ``We thank $\ldots$.'' Sponsor and financial support acknowledgments are included in the acknowledgment section. For example: This work was supported in part by the U.S. Department of Commerce under Grant BS123456 (sponsor and financial support acknowledgment goes here). Researchers that contributed information or assistance to the article should also be acknowledged in this section. Also, if corresponding authorship is noted in your paper it will be placed in the acknowledgment section. Note that the acknowledgment section is placed at the end of the paper before the reference section.

\subsection{References}


References need not be cited in text. When they are, they appear on the 
line, in square brackets, inside the punctuation. Multiple references are 
each numbered with separate brackets. When citing a section in a book, 
please give the relevant page numbers. In text, refer simply to the 
reference number. Do not use ``Ref.'' or ``reference'' except at the 
beginning of a sentence: ``Reference  shows $\ldots$ .'' Please do not use 
automatic endnotes in \emph{Word}, rather, type the reference list at the end of the 
paper using the ``References'' style.

Reference numbers are set flush left and form a column of their own, hanging 
out beyond the body of the reference. The reference numbers are on the line, 
end with period. In all references, the given name of the author 
or editor is abbreviated to the initial only and precedes the last name. Use 
them all; use \emph{et al.} only if names are not given. Use commas around Jr., 
Sr., and III in names. Abbreviate conference titles. When citing IEEE 
transactions, provide the issue number, page range, volume number, year, 
and/or month if available. When referencing a patent, provide the day and 
the month of issue, or application. References may not include all 
information; please obtain and include relevant information. Do not combine 
references. There must be only one reference with each number. If there is a 
URL included with the print reference, it can be included at the end of the 
reference. 

Other than books, capitalize only the first word in a paper title, except 
for proper nouns and element symbols. For papers published in translation 
journals, please give the English citation first, followed by the original 
foreign-language citation See the end of this document for formats and 
examples of common\break references. For a complete discussion of references and 
their formats, see the IEEE style manual at
\url{http://www.ieee.org/authortools}.

\section{CONCLUSION}

The manuscript should include a conclusion. In this section, summarize what was described in your paper. Future directions may also be included in this section. Authors are strongly encouraged not to reference multiple figures or tables in the conclusion; these should be referenced in the body of the paper.

\section{ACKNOWLEDGMENT}

We thank A, B, and C. This work was supported in part by a grant from XYZ.

\bibliographystyle{plain}
\bibliography{exportlist}



\begin{IEEEbiography}{First A. Author}{\,}current employment (is
currently with XYZ Corporation, New York, NY, USA). Author's latest degree received or which he/she is currently pursuing (He received the B.S. degree and the M.S. degree...."). Author's research interest. Association with any official journals or conferences; major professional and/or academic achievements, i.e., best paper awards, research grants, etc.; any publication information (number of papers and titles of books published). Author membership information, e.g., is a member of the IEEE and the IEEE Computer Society, if applicable, is noted at the end of the biography. Biography is limited to single paragraph only (He is a member of IEEE, etc.). All biographies should be limited to one paragraph, five to six sentences, consisting of the following: (e.g., ``Dr. Author received a B.S. degree and an M.S. degree $\ldots$.''), including years achieved; association with any official journals or conferences; major professional and/or academic achievements, i.e., best paper awards, research grants, etc.; any publication information (number of papers and titles of books published); current research interests; association with any professional associations. Author membership information, e.g., is a member of the IEEE and the IEEE Computer Society, if applicable, is noted at the end of the biography. Contact him/her at faauthor@xyz.com.
\end{IEEEbiography}

\begin{IEEEbiography}{Second B. Author, Jr.,}{\,}is with ABC Corporation, Bblingen, Germany. Ms. Author's biography appears here.  Contact him/her at sbauthor@abc.com.
\end{IEEEbiography}

\begin{IEEEbiography}{Third C. Author, III,}{\,}is with DEF Corporation, Tokyo, Japan. Dr. Author's biography appears here.  Contact him/her at tcauthor@def.com.
\end{IEEEbiography}

\end{document}

